# ApiKeyRouter Proxy Service Environment Variables
# Copy this file to .env and update with your values

# =============================================================================
# Server Configuration
# =============================================================================
PORT=8000
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# =============================================================================
# Security & Authentication
# =============================================================================
# Management API key for authentication (required for management endpoints)
APIKEYROUTER_MANAGEMENT_API_KEY=

# Encryption key for API key material (required in production)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
APIKEYROUTER_ENCRYPTION_KEY=

# Optional: Custom encryption salt (defaults to "apikeyrouter-salt")
# APIKEYROUTER_ENCRYPTION_SALT=apikeyrouter-salt

# Enable HTTP Strict Transport Security (HSTS)
ENABLE_HSTS=false

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins (defaults to localhost for development)
# Example: CORS_ORIGINS=https://example.com,https://app.example.com
CORS_ORIGINS=

# =============================================================================
# Database Configuration (Optional)
# =============================================================================
# MongoDB connection URL (optional - uses in-memory store if not set)
# Format: mongodb://[username:password@]host[:port][/database]
MONGODB_URL=mongodb://mongodb:27017/apikeyrouter

# MongoDB database name (optional, defaults to "apikeyrouter")
# MONGODB_DATABASE=apikeyrouter

# Redis connection URL (optional - uses in-memory store if not set)
# Format: redis://[username:password@]host[:port][/database]
REDIS_URL=redis://redis:6379/0

# =============================================================================
# ApiKeyRouter Core Configuration (Optional)
# =============================================================================
# Maximum number of routing decisions to store in StateStore
# APIKEYROUTER_MAX_DECISIONS=1000

# Maximum number of state transitions to store in StateStore
# APIKEYROUTER_MAX_TRANSITIONS=1000

# Default cooldown period for Throttled state in seconds
# APIKEYROUTER_DEFAULT_COOLDOWN_SECONDS=60

# Default cooldown period when retry-after is missing (seconds)
# APIKEYROUTER_QUOTA_DEFAULT_COOLDOWN_SECONDS=60

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# APIKEYROUTER_LOG_LEVEL=INFO

# =============================================================================
# Environment
# =============================================================================
# Environment mode: development, staging, production
# ENVIRONMENT=development

# =============================================================================
# MongoDB Service Configuration (for docker-compose)
# =============================================================================
MONGO_INITDB_DATABASE=apikeyrouter
